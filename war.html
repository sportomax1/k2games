<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>War: Card Game</title>
    <style>
        body { font-family: sans-serif; background: #065f46; color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; margin: 0; min-height: 100vh; }
        .arena { display: flex; gap: 40px; margin: 40px 0; align-items: center; }
        .card { width: 100px; height: 150px; background: white; border-radius: 10px; border: 4px solid #fff; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold; color: #1e293b; box-shadow: 0 10px 20px rgba(0,0,0,0.3); position: relative; }
        .card.red { color: #ef4444; }
        .card::after { content: ''; position: absolute; top: 10px; left: 10px; font-size: 1rem; }
        .deck-info { text-align: center; font-size: 1.2rem; }
        .btn { padding: 15px 40px; background: #fbbf24; border: none; color: #78350f; border-radius: 8px; cursor: pointer; font-size: 1.5rem; font-weight: bold; box-shadow: 0 4px 0 #b45309; }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        .status { font-size: 1.5rem; margin: 20px; min-height: 2rem; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .back { margin-top: auto; color: #a7f3d0; text-decoration: none; padding: 20px; }
    </style>
</head>
<body>
    <h1>War Card Game</h1>
    <div class="status" id="status">Press Play to Start a Round!</div>
    
    <div class="arena">
        <div class="deck-info">
            <div class="card" id="cpuCard">?</div>
            <p>CPU: <span id="cpuCount">26</span></p>
        </div>
        <div style="font-size: 3rem">VS</div>
        <div class="deck-info">
            <div class="card" id="pCard">?</div>
            <p>YOU: <span id="pCount">26</span></p>
        </div>
    </div>

    <button class="btn" onclick="playRound()">PLAY ROUND</button>
    <a href="index.html" class="back">← HUB</a>

    <script>
        let pDeck = [], cpuDeck = [];
        const suits = ['♠','♥','♦','♣'];
        const vals = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

        function init() {
            let deck = [];
            suits.forEach(s => vals.forEach(v => deck.push({v, s, rank: vals.indexOf(v)})));
            deck.sort(() => Math.random() - 0.5);
            pDeck = deck.slice(0, 26);
            cpuDeck = deck.slice(26, 52);
            updateUI();
        }

        function updateUI() {
            document.getElementById('pCount').textContent = pDeck.length;
            document.getElementById('cpuCount').textContent = cpuDeck.length;
        }

        function playRound() {
            if (pDeck.length === 0 || cpuDeck.length === 0) return alert("Game Over!");

            const p1 = pDeck.shift();
            const c1 = cpuDeck.shift();

            renderCard('pCard', p1);
            renderCard('cpuCard', c1);

            if (p1.rank > c1.rank) {
                document.getElementById('status').textContent = "You Win the Round!";
                pDeck.push(p1, c1);
            } else if (c1.rank > p1.rank) {
                document.getElementById('status').textContent = "CPU Wins the Round!";
                cpuDeck.push(c1, p1);
            } else {
                document.getElementById('status').textContent = "WAR! (Simplified TIE)";
                pDeck.push(p1); cpuDeck.push(c1);
            }

            updateUI();
            if (pDeck.length === 0) alert("CPU Wins the Game!");
            if (cpuDeck.length === 0) alert("You Win the Game!");
        }

        function renderCard(id, card) {
            const el = document.getElementById(id);
            el.textContent = card.v + card.s;
            el.className = `card ${['♥','♦'].includes(card.s) ? 'red' : ''}`;
        }

        init();
    </script>
</body>
</html>