<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Glow</title>
    <style>
        body { margin: 0; background: #0f172a; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        canvas { background: #1e293b; border: 4px solid #334155; border-radius: 10px; box-shadow: 0 0 30px rgba(0,0,0,0.5); image-rendering: pixelated; }
        .ui { display: flex; justify-content: space-between; width: 400px; margin-bottom: 10px; font-size: 1.2rem; font-weight: bold; }
        .back { position: absolute; bottom: 20px; left: 20px; color: #94a3b8; text-decoration: none; background: rgba(255,255,255,0.05); padding: 8px 16px; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="ui">
        <div>Score: <span id="score">0</span></div>
        <div>Best: <span id="best">0</span></div>
    </div>
    <canvas id="game"></canvas>
    <div style="margin-top: 20px; color: #64748b;">Use Arrow Keys to Move</div>
    <a href="index.html" class="back">‚Üê HUB</a>

    <script>
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');
        const GRID_SIZE = 20;
        canvas.width = 400; canvas.height = 400;

        let snake = [{x: 10, y: 10}];
        let food = {x: 15, y: 15};
        let dx = 1, dy = 0;
        let score = 0, best = localStorage.getItem('snakeBest') || 0;
        let speed = 100;

        document.getElementById('best').textContent = best;

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Food
            ctx.fillStyle = '#ef4444';
            ctx.shadowBlur = 15; ctx.shadowColor = '#ef4444';
            ctx.fillRect(food.x * GRID_SIZE + 2, food.y * GRID_SIZE + 2, GRID_SIZE - 4, GRID_SIZE - 4);

            // Snake
            ctx.fillStyle = '#22c55e';
            ctx.shadowColor = '#22c55e';
            snake.forEach((seg, i) => {
                ctx.globalAlpha = 1 - (i / snake.length * 0.5);
                ctx.fillRect(seg.x * GRID_SIZE + 1, seg.y * GRID_SIZE + 1, GRID_SIZE - 2, GRID_SIZE - 2);
            });
            ctx.globalAlpha = 1; ctx.shadowBlur = 0;
        }

        function update() {
            const head = { x: snake[0].x + dx, y: snake[0].y + dy };

            // Wall collision
            if (head.x < 0 || head.x >= 20 || head.y < 0 || head.y >= 20) return reset();
            
            // Self collision
            if (snake.some(s => s.x === head.x && s.y === head.y)) return reset();

            snake.unshift(head);

            // Eat food
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                document.getElementById('score').textContent = score;
                spawnFood();
            } else {
                snake.pop();
            }
        }

        function spawnFood() {
            food = {
                x: Math.floor(Math.random() * 20),
                y: Math.floor(Math.random() * 20)
            };
            if (snake.some(s => s.x === food.x && s.y === food.y)) spawnFood();
        }

        function reset() {
            if (score > best) {
                best = score;
                localStorage.setItem('snakeBest', best);
                document.getElementById('best').textContent = best;
            }
            alert("Game Over! Score: " + score);
            snake = [{x: 10, y: 10}];
            dx = 1; dy = 0; score = 0;
            document.getElementById('score').textContent = 0;
            spawnFood();
        }

        window.onkeydown = (e) => {
            if (e.key === 'ArrowUp' && dy === 0) { dx = 0; dy = -1; }
            if (e.key === 'ArrowDown' && dy === 0) { dx = 0; dy = 1; }
            if (e.key === 'ArrowLeft' && dx === 0) { dx = -1; dy = 0; }
            if (e.key === 'ArrowRight' && dx === 0) { dx = 1; dy = 0; }
        };

        function loop() {
            update(); draw();
            setTimeout(() => requestAnimationFrame(loop), speed);
        }

        loop();
    </script>
</body>
</html>